import{r as s,j as t}from"./index-Cra2tMKZ.js";import{h as D,i as C,a as b,g as k,c as E,j as w,k as A,d as L}from"./firebase-C73fepr0.js";import{b as j}from"./firebaseConfig-YO4LmEVF.js";import{o as q}from"./index-68602d24-Cqehjd0e.js";const r=D(j),N=C(j),R=()=>{const[m,y]=s.useState([]),[o,c]=s.useState(""),[i,l]=s.useState(""),[d,u]=s.useState(""),[h,p]=s.useState(""),[v,g]=s.useState(null);s.useEffect(()=>{const e=q(b,n=>{g(n||null)});return()=>e()},[]);const a=async()=>{const n=(await k(E(r,"events"))).docs.map(x=>({id:x.id,...x.data()}));y(n)},f=async()=>{if(v)try{await w(E(r,"events"),{title:o,description:i,date:d,location:h,createdBy:v.uid}),a(),c(""),l(""),u(""),p("")}catch(e){console.error("Error adding event:",e)}},S=async e=>{try{await A(L(r,"events",e)),a()}catch(n){console.error("Error deleting event:",n)}};return s.useEffect(()=>{a()},[]),t.jsxs("div",{className:"event-manager",children:[t.jsx("h3",{children:"Event Manager"}),t.jsx("input",{type:"text",value:o,placeholder:"Event Title",onChange:e=>c(e.target.value)}),t.jsx("input",{type:"text",value:i,placeholder:"Event Description",onChange:e=>l(e.target.value)}),t.jsx("input",{type:"date",value:d,onChange:e=>u(e.target.value)}),t.jsx("input",{type:"text",value:h,placeholder:"Event Location",onChange:e=>p(e.target.value)}),t.jsx("button",{onClick:f,children:"Add Event"}),t.jsx("h4",{children:"Existing Events"}),t.jsx("ul",{children:m.map(e=>t.jsxs("li",{children:[t.jsx("h5",{children:e.title}),t.jsx("p",{children:e.description}),t.jsx("button",{onClick:()=>S(e.id),children:"Delete"})]},e.id))})]})};export{R as E,r as d,N as s};
