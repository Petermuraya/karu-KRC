import{i as y,r as c,j as e,L as r,O as A,c as h,k as b,h as u,l as f}from"./index-DR2q9T4n.js";import{A as E,a as O,b as U}from"./index-ix7kIwxq.js";import{a as L}from"./index-BHIIpmJt.js";import{d as o}from"./firestore-urueE_t4.js";import"./iconBase-Ce0PE0NQ.js";const M=()=>{const j=y(),[i,m]=c.useState([]),[l,x]=c.useState([]);c.useEffect(()=>{(async()=>{const t=h(o,"users"),a=h(o,"events"),N=await b(t),v=await b(a),w=N.docs.map(n=>({id:n.id,...n.data()})),D=v.docs.map(n=>({id:n.id,...n.data()}));m(w),x(D)})()},[]);const d=s=>j.pathname===s,p=async s=>{const t=u(o,"users",s);await f(t),m(i.filter(a=>a.id!==s))},g=async s=>{const t=u(o,"events",s);await f(t),x(l.filter(a=>a.id!==s))};return e.jsxs("div",{className:"min-h-screen flex bg-gray-100",children:[e.jsxs("aside",{className:"bg-white w-64 shadow-lg",children:[e.jsx("div",{className:"p-4 border-b flex flex-col items-center",children:e.jsx("h1",{className:"text-2xl font-bold text-red-600",children:"Admin Dashboard"})}),e.jsxs("nav",{className:"flex flex-col p-4 space-y-2",children:[e.jsxs(r,{to:"/admin-dashboard",className:`flex items-center p-2 rounded-md transition-colors duration-200 ${d("/admin-dashboard")?"bg-red-100 text-red-600 font-semibold":"text-gray-700 hover:bg-red-100"}`,children:[e.jsx(E,{className:"mr-2"})," Home"]}),e.jsxs(r,{to:"/admin-dashboard/users",className:`flex items-center p-2 rounded-md transition-colors duration-200 ${d("/admin-dashboard/users")?"bg-red-100 text-red-600 font-semibold":"text-gray-700 hover:bg-red-100"}`,children:[e.jsx(O,{className:"mr-2"})," Users"]}),e.jsxs(r,{to:"/admin-dashboard/events",className:`flex items-center p-2 rounded-md transition-colors duration-200 ${d("/admin-dashboard/events")?"bg-red-100 text-red-600 font-semibold":"text-gray-700 hover:bg-red-100"}`,children:[e.jsx(U,{className:"mr-2"})," Events"]}),e.jsxs(r,{to:"/admin-dashboard/donations",className:`flex items-center p-2 rounded-md transition-colors duration-200 ${d("/admin-dashboard/donations")?"bg-red-100 text-red-600 font-semibold":"text-gray-700 hover:bg-red-100"}`,children:[e.jsx(L,{className:"mr-2"})," Donations"]})]})]}),e.jsxs("div",{className:"flex-grow p-4",children:[e.jsx("header",{className:"mb-6",children:e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Admin Overview"})}),e.jsxs("section",{className:"users bg-white shadow-md rounded-lg p-4 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Registered Users"}),e.jsx("ul",{children:i.length>0?i.map(s=>e.jsxs("li",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{children:s.username}),e.jsx("button",{onClick:()=>p(s.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]},s.id)):e.jsx("li",{children:"No users found."})})]}),e.jsxs("section",{className:"events bg-white shadow-md rounded-lg p-4 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Upcoming Events"}),e.jsx("ul",{children:l.length>0?l.map(s=>e.jsxs("li",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{children:s.name}),e.jsx("button",{onClick:()=>g(s.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]},s.id)):e.jsx("li",{children:"No events found."})})]}),e.jsx(A,{})]})]})};export{M as default};
