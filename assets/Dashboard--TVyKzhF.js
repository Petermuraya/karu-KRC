import{i as f,r,j as e,L as o,O as j,c as p,k as g}from"./index-DR2q9T4n.js";import{A as v,a as N}from"./index-ix7kIwxq.js";import{d as c}from"./firestore-urueE_t4.js";import"./iconBase-Ce0PE0NQ.js";const U=()=>{const m=f(),[t,x]=r.useState(null),[n,h]=r.useState([]);r.useEffect(()=>{(async()=>{const d=localStorage.getItem("userId");if(d){const a=doc(c,"users",d),i=await getDoc(a);x({id:i.id,...i.data()})}const u=p(c,"events"),b=(await g(u)).docs.map(a=>({id:a.id,...a.data()}));h(b)})()},[]);const l=s=>m.pathname===s;return e.jsxs("div",{className:"min-h-screen flex bg-gray-100",children:[e.jsxs("aside",{className:"bg-white w-64 shadow-lg",children:[e.jsx("div",{className:"p-4 border-b flex flex-col items-center",children:e.jsx("h1",{className:"text-2xl font-bold text-red-600",children:"User Dashboard"})}),e.jsxs("nav",{className:"flex flex-col p-4 space-y-2",children:[e.jsxs(o,{to:"/user-dashboard",className:`flex items-center p-2 rounded-md transition-colors duration-200 ${l("/user-dashboard")?"bg-red-100 text-red-600 font-semibold":"text-gray-700 hover:bg-red-100"}`,children:[e.jsx(v,{className:"mr-2"})," Home"]}),e.jsxs(o,{to:"/user-dashboard/profile",className:`flex items-center p-2 rounded-md transition-colors duration-200 ${l("/user-dashboard/profile")?"bg-red-100 text-red-600 font-semibold":"text-gray-700 hover:bg-red-100"}`,children:[e.jsx(N,{className:"mr-2"})," Profile"]})]})]}),e.jsxs("div",{className:"flex-grow p-4",children:[e.jsxs("header",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"User Overview"}),t&&e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4 mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-2",children:["Welcome, ",t.username,"!"]}),e.jsxs("p",{children:["Email: ",t.email]}),e.jsxs("p",{children:["Joined: ",t.joinedDate]})]})]}),e.jsxs("section",{className:"events bg-white shadow-md rounded-lg p-4 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Upcoming Events"}),e.jsx("ul",{children:n.length>0?n.map(s=>e.jsxs("li",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{children:s.name}),e.jsx(o,{to:`/user-dashboard/events/${s.id}`,className:"text-blue-600 hover:underline",children:"View Details"})]},s.id)):e.jsx("li",{children:"No upcoming events found."})})]}),e.jsx(j,{})]})]})};export{U as default};
