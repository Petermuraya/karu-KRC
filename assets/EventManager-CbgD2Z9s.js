import{c as j,r as s,o as D,j as t}from"./index-ERbocpv0.js";import{h as C,i as b,a as k,g as w,c as E,j as A,k as L,d as q}from"./firebase-CCE-f_Ja.js";const r=C(j),B=b(j),F=()=>{const[y,S]=s.useState([]),[o,c]=s.useState(""),[i,l]=s.useState(""),[d,u]=s.useState(""),[h,p]=s.useState(""),[v,g]=s.useState(null);s.useEffect(()=>{const e=D(k,n=>{g(n||null)});return()=>e()},[]);const a=async()=>{const n=(await w(E(r,"events"))).docs.map(x=>({id:x.id,...x.data()}));S(n)},f=async()=>{if(v)try{await A(E(r,"events"),{title:o,description:i,date:d,location:h,createdBy:v.uid}),a(),c(""),l(""),u(""),p("")}catch(e){console.error("Error adding event:",e)}},m=async e=>{try{await L(q(r,"events",e)),a()}catch(n){console.error("Error deleting event:",n)}};return s.useEffect(()=>{a()},[]),t.jsxs("div",{className:"event-manager",children:[t.jsx("h3",{children:"Event Manager"}),t.jsx("input",{type:"text",value:o,placeholder:"Event Title",onChange:e=>c(e.target.value)}),t.jsx("input",{type:"text",value:i,placeholder:"Event Description",onChange:e=>l(e.target.value)}),t.jsx("input",{type:"date",value:d,onChange:e=>u(e.target.value)}),t.jsx("input",{type:"text",value:h,placeholder:"Event Location",onChange:e=>p(e.target.value)}),t.jsx("button",{onClick:f,children:"Add Event"}),t.jsx("h4",{children:"Existing Events"}),t.jsx("ul",{children:y.map(e=>t.jsxs("li",{children:[t.jsx("h5",{children:e.title}),t.jsx("p",{children:e.description}),t.jsx("button",{onClick:()=>m(e.id),children:"Delete"})]},e.id))})]})};export{F as E,r as d,B as s};
